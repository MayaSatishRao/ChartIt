{"ast":null,"code":"function createLabels(arr) {\n  if (arr != undefined) {\n    let labels = [];\n\n    for (let i = 1; i < arr.length; i++) if (arr[i][0].length != 0) labels.push(arr[i][0]);\n\n    return labels;\n  }\n}\n\nfunction createDataSets(arr) {\n  let datasetsArray = [];\n\n  for (let i = 1; i < arr[0].length; i++) {\n    let dataArray = [];\n\n    for (let j = 1; j < arr.length; j++) {\n      if (arr[j][i] != undefined) dataArray.push(arr[j][i]);\n    }\n\n    let datasetObj = {\n      labels: arr[0][i],\n      data: dataArray\n    };\n    datasetsArray.push(datasetObj);\n  }\n\n  return datasetsArray;\n}\n\nfunction readFiles(file, setdata) {\n  CSVToJSON(file, setdata);\n}\n\nfunction CSVToJSON(file, setdata) {\n  if (file == null) return {};else {\n    const reader = new FileReader();\n    let text = \"\";\n\n    reader.onload = e => {\n      fileToString(e.target.result, setdata);\n    };\n\n    reader.readAsText(file);\n    return text;\n  }\n}\n\n_c = CSVToJSON;\n\nfunction fileToString(str, setdata) {\n  const rows = str.split(\"\\n\");\n  let ans = [];\n\n  for (let i = 0; i < rows.length; i++) {\n    const temp = [];\n    const rowData = rows[i].split(\",\");\n\n    for (let j = 0; j < rowData.length; j++) temp.push(rowData[j]);\n\n    ans.push(temp);\n  }\n\n  setdata(ans);\n}\n\nexport default readFiles;\n\nvar _c;\n\n$RefreshReg$(_c, \"CSVToJSON\");","map":{"version":3,"names":["createLabels","arr","undefined","labels","i","length","push","createDataSets","datasetsArray","dataArray","j","datasetObj","data","readFiles","file","setdata","CSVToJSON","reader","FileReader","text","onload","e","fileToString","target","result","readAsText","str","rows","split","ans","temp","rowData"],"sources":["D:/chartjs/chart/src/components/GetJSON.js"],"sourcesContent":["function createLabels(arr){\r\n    if(arr!=undefined){\r\n     let labels = [];\r\n     for(let i=1;i<arr.length;i++)\r\n           if(arr[i][0].length!=0)\r\n         labels.push(arr[i][0]);\r\n      return (labels); \r\n    }\r\n    \r\n}\r\n\r\n\r\nfunction createDataSets(arr){\r\n   let datasetsArray= [];\r\n   for(let i=1;i<arr[0].length;i++){\r\n         let dataArray = [];\r\n         for(let j=1;j<arr.length;j++){\r\n             if(arr[j][i]!=undefined)\r\n             dataArray.push(arr[j][i]);\r\n         }\r\n         let datasetObj = {\r\n             labels: arr[0][i],\r\n             data: dataArray\r\n         }\r\n         datasetsArray.push(datasetObj);\r\n   }\r\n   return datasetsArray;\r\n}\r\n\r\n\r\nfunction readFiles(file, setdata){\r\n     CSVToJSON(file,setdata);\r\n}\r\n\r\nfunction CSVToJSON(file,setdata){\r\n    \r\n     if(file==null)\r\n     return {};\r\n     else{\r\n        const reader = new FileReader();\r\n        let text = \"\";\r\n        reader.onload = (e)=>{\r\n            fileToString(e.target.result,setdata);\r\n        }\r\n        reader.readAsText(file);\r\n        return text;\r\n     }\r\n}\r\n\r\nfunction fileToString(str,setdata){\r\n    const rows = str.split(\"\\n\");\r\n    let ans=[];\r\n    for(let i=0;i<rows.length;i++){\r\n        const temp = [];\r\n        const rowData = rows[i].split(\",\");\r\n        for(let j=0;j<rowData.length;j++)\r\n        temp.push(rowData[j]);\r\n        ans.push(temp);\r\n    }\r\n    setdata(ans);\r\n}\r\n\r\nexport default readFiles;\r\n"],"mappings":"AAAA,SAASA,YAAT,CAAsBC,GAAtB,EAA0B;EACtB,IAAGA,GAAG,IAAEC,SAAR,EAAkB;IACjB,IAAIC,MAAM,GAAG,EAAb;;IACA,KAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACH,GAAG,CAACI,MAAlB,EAAyBD,CAAC,EAA1B,EACM,IAAGH,GAAG,CAACG,CAAD,CAAH,CAAO,CAAP,EAAUC,MAAV,IAAkB,CAArB,EACFF,MAAM,CAACG,IAAP,CAAYL,GAAG,CAACG,CAAD,CAAH,CAAO,CAAP,CAAZ;;IACH,OAAQD,MAAR;EACD;AAEJ;;AAGD,SAASI,cAAT,CAAwBN,GAAxB,EAA4B;EACzB,IAAIO,aAAa,GAAE,EAAnB;;EACA,KAAI,IAAIJ,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACH,GAAG,CAAC,CAAD,CAAH,CAAOI,MAArB,EAA4BD,CAAC,EAA7B,EAAgC;IAC1B,IAAIK,SAAS,GAAG,EAAhB;;IACA,KAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACT,GAAG,CAACI,MAAlB,EAAyBK,CAAC,EAA1B,EAA6B;MACzB,IAAGT,GAAG,CAACS,CAAD,CAAH,CAAON,CAAP,KAAWF,SAAd,EACAO,SAAS,CAACH,IAAV,CAAeL,GAAG,CAACS,CAAD,CAAH,CAAON,CAAP,CAAf;IACH;;IACD,IAAIO,UAAU,GAAG;MACbR,MAAM,EAAEF,GAAG,CAAC,CAAD,CAAH,CAAOG,CAAP,CADK;MAEbQ,IAAI,EAAEH;IAFO,CAAjB;IAIAD,aAAa,CAACF,IAAd,CAAmBK,UAAnB;EACL;;EACD,OAAOH,aAAP;AACF;;AAGD,SAASK,SAAT,CAAmBC,IAAnB,EAAyBC,OAAzB,EAAiC;EAC5BC,SAAS,CAACF,IAAD,EAAMC,OAAN,CAAT;AACJ;;AAED,SAASC,SAAT,CAAmBF,IAAnB,EAAwBC,OAAxB,EAAgC;EAE3B,IAAGD,IAAI,IAAE,IAAT,EACA,OAAO,EAAP,CADA,KAEI;IACD,MAAMG,MAAM,GAAG,IAAIC,UAAJ,EAAf;IACA,IAAIC,IAAI,GAAG,EAAX;;IACAF,MAAM,CAACG,MAAP,GAAiBC,CAAD,IAAK;MACjBC,YAAY,CAACD,CAAC,CAACE,MAAF,CAASC,MAAV,EAAiBT,OAAjB,CAAZ;IACH,CAFD;;IAGAE,MAAM,CAACQ,UAAP,CAAkBX,IAAlB;IACA,OAAOK,IAAP;EACF;AACL;;KAbQH,S;;AAeT,SAASM,YAAT,CAAsBI,GAAtB,EAA0BX,OAA1B,EAAkC;EAC9B,MAAMY,IAAI,GAAGD,GAAG,CAACE,KAAJ,CAAU,IAAV,CAAb;EACA,IAAIC,GAAG,GAAC,EAAR;;EACA,KAAI,IAAIzB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACuB,IAAI,CAACtB,MAAnB,EAA0BD,CAAC,EAA3B,EAA8B;IAC1B,MAAM0B,IAAI,GAAG,EAAb;IACA,MAAMC,OAAO,GAAGJ,IAAI,CAACvB,CAAD,CAAJ,CAAQwB,KAAR,CAAc,GAAd,CAAhB;;IACA,KAAI,IAAIlB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACqB,OAAO,CAAC1B,MAAtB,EAA6BK,CAAC,EAA9B,EACAoB,IAAI,CAACxB,IAAL,CAAUyB,OAAO,CAACrB,CAAD,CAAjB;;IACAmB,GAAG,CAACvB,IAAJ,CAASwB,IAAT;EACH;;EACDf,OAAO,CAACc,GAAD,CAAP;AACH;;AAED,eAAehB,SAAf"},"metadata":{},"sourceType":"module"}